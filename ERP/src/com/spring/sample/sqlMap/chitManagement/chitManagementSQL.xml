<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
    "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="chitManagement">
	<select resultClass="java.util.HashMap" parameterClass="java.util.HashMap" id="chitCon">
SELECT*FROM(
SELECT  A.NO,TO_CHAR(INPUT_DATE,'YYYY-MM-DD') INPUT_DATE,'매입전표' SEC,A.MONEY,B.NAME,A.ETC
FROM INC_CHIT A,CUS B
WHERE A.CUS_NO = B.NO
UNION ALL
SELECT  A.NO,TO_CHAR(INPUT_DATE,'YYYY-MM-DD'),'매출전표',A.MONEY,B.NAME,A.ETC
FROM SAL_CHIT A,CUS B
WHERE A.CUS_NO = B.NO
UNION ALL
SELECT  A.NO,TO_CHAR(INPUT_DATE,'YYYY-MM-DD'),'매입전표(기타)',A.MONEY,B.NAME,A.ETC
FROM OTH_INC_CHIT A,CUS B
WHERE A.CUS_NO = B.NO
UNION ALL
SELECT  A.NO,TO_CHAR(INPUT_DATE,'YYYY-MM-DD'),'매입전표(기타)',A.MONEY,B.NAME,A.ETC
FROM OTH_SAL_CHIT A,CUS B
WHERE A.CUS_NO = B.NO) 
ORDER BY NO
</select>
<select resultClass="integer" parameterClass="java.util.HashMap"
		id="getchitCount"> 
SELECT
(SELECT COUNT(*) FROM INC_CHIT)+
(SELECT COUNT(*) FROM OTH_INC_CHIT)+
(SELECT COUNT(*) FROM SAL_CHIT)+
(SELECT COUNT(*) FROM OTH_SAL_CHIT)
FROM DUAL </select>
</sqlMap>